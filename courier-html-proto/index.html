<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KuryePro B2B</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <div id="app-container">

        <!-- === SCREEN: SPLASH === -->
        <div id="screen-splash" class="view hidden flex flex-col justify-center items-center h-full bg-app">
            <!-- Logo Placeholder -->
            <div
                style="width: 80px; height: 80px; background: var(--primary); border-radius: 16px; display: flex; align-items: center; justify-content: center; margin-bottom: 24px; color: white; font-size: 40px;">
                KP</div>
            <h1 style="color: var(--text-main);">KuryePro</h1>
            <p class="text-muted text-sm mt-2">Profesyonel Kurye AsistanÄ±</p>
        </div>

        <!-- === SCREEN: LOGIN === -->
        <div id="screen-login" class="view hidden flex-col h-full p-6">
            <div class="mt-auto mb-auto">
                <h1 class="mb-2">GiriÅŸ Yap</h1>
                <p class="text-muted mb-8">Kurumsal hesabÄ±nÄ±za eriÅŸmek iÃ§in telefon numaranÄ±zÄ± girin.</p>

                <div class="input-group">
                    <label class="input-label">Telefon NumarasÄ±</label>
                    <input id="login-phone" type="tel" class="input-field" placeholder="5XX XXX XX XX">
                </div>

                <button onclick="goToOTP()" class="btn btn-primary">Devam Et</button>
            </div>
        </div>

        <!-- === SCREEN: OTP === -->
        <div id="screen-otp" class="view hidden flex-col h-full p-6">
            <button onclick="goBack('screen-login')" class="btn-ghost"
                style="width:auto; align-self:flex-start; margin-left:-8px;">â† Geri</button>
            <div class="mt-6">
                <h1>Kodu DoÄŸrula</h1>
                <p class="text-muted mb-8"><strong id="otp-phone-display">...</strong> numarasÄ±na gÃ¶nderilen 6 haneli
                    kodu girin.</p>

                <div class="input-group">
                    <label class="input-label">SMS Kodu</label>
                    <input id="otp-input" type="number" class="input-field" placeholder="123456"
                        style="letter-spacing: 0.5em; font-weight: 700; text-align: center;">
                </div>

                <div class="text-center mb-6">
                    <span class="text-sm text-muted">Tekrar gÃ¶nder (0:45)</span>
                </div>

                <button onclick="handleLogin()" class="btn btn-primary">GiriÅŸ Yap</button>
            </div>
        </div>

        <!-- === SCREEN: ONBOARDING: PROFILE === -->
        <div id="screen-onb-profile" class="view hidden flex-col h-full p-6">
            <h1 class="mb-2">Profil OluÅŸtur</h1>
            <p class="text-muted mb-6">LÃ¼tfen kimlik ve araÃ§ bilgilerinizi girin.</p>

            <div class="input-group">
                <label class="input-label">Ad Soyad</label>
                <input type="text" class="input-field" placeholder="AdÄ±nÄ±z SoyadÄ±nÄ±z">
            </div>
            <div class="input-group">
                <label class="input-label">Kurye ID (Varsa)</label>
                <input type="text" class="input-field" placeholder="TR-XXXX">
            </div>
            <div class="input-group">
                <label class="input-label">AraÃ§ Tipi</label>
                <select class="input-field" style="background: var(--bg-card);">
                    <option>Motosiklet</option>
                    <option>Hafif Ticari</option>
                    <option>Bisiklet</option>
                </select>
            </div>

            <button onclick="showScreen('screen-onb-docs')" class="btn btn-primary mt-auto">Devam Et</button>
        </div>

        <!-- === SCREEN: ONBOARDING: DOCS === -->
        <div id="screen-onb-docs" class="view hidden flex-col h-full p-6">
            <button onclick="goBack('screen-onb-profile')" class="btn-ghost mb-4"
                style="width:auto; align-self:flex-start;">â† Geri</button>
            <h1 class="mb-2">Belge YÃ¼kleme</h1>
            <p class="text-muted mb-6">Onay iÃ§in gerekli belgeleri yÃ¼kleyin.</p>

            <div class="card flex items-center gap-4 p-4 border-dashed border-2 bg-transparent">
                <div style="font-size: 24px;">ğŸªª</div>
                <div class="flex-1">
                    <div class="font-bold text-sm">Kimlik KartÄ± / Ehliyet</div>
                    <div class="text-xs text-muted">Ã–n ve arka yÃ¼z</div>
                </div>
                <button class="btn-secondary" style="width:auto; height: 32px; font-size: 12px;">YÃ¼kle</button>
            </div>

            <div class="card flex items-center gap-4 p-4 border-dashed border-2 bg-transparent">
                <div style="font-size: 24px;">ğŸ¤³</div>
                <div class="flex-1">
                    <div class="font-bold text-sm">Selfie DoÄŸrulama</div>
                    <div class="text-xs text-muted">YÃ¼zÃ¼nÃ¼z net gÃ¶rÃ¼nmeli</div>
                </div>
                <button class="btn-secondary" style="width:auto; height: 32px; font-size: 12px;">Ã‡ek</button>
            </div>

            <button onclick="showScreen('screen-onb-pending')" class="btn btn-success mt-auto">BaÅŸvuruyu
                Tamamla</button>
        </div>

        <!-- === SCREEN: ONBOARDING: PENDING === -->
        <div id="screen-onb-pending" class="view hidden flex-col h-full p-6 items-center justify-center text-center">
            <div style="font-size: 64px; margin-bottom: 24px;">â³</div>
            <h1 class="mb-4">Onay Bekleniyor</h1>
            <p class="text-muted mb-8">Bilgileriniz operatÃ¶rlerimiz tarafÄ±ndan inceleniyor. HesabÄ±nÄ±z onaylandÄ±ÄŸÄ±nda
                bildirim alacaksÄ±nÄ±z.</p>
            <button onclick="finishOnboarding()" class="btn btn-secondary">Durumu Kontrol Et</button>
        </div>

        <!-- === MAIN APP SCREENS === -->

        <!-- TAB: HOME -->
        <div id="tab-home" class="view-content hidden">
            <!-- Header -->
            <div class="flex justify-between items-center mb-6 pt-2">
                <div>
                    <div class="text-xs font-bold text-muted uppercase">HoÅŸgeldin</div>
                    <h1>Ahmet D.</h1>
                </div>
                <div class="badge badge-neutral" id="status-badge">OFFLINE</div>
            </div>

            <!-- Shift Toggle Card -->
            <div class="card p-6 flex flex-col items-center justify-center text-center mb-6">
                <div id="shift-status-text" class="text-muted mb-4 font-bold">Mesai KapalÄ±</div>
                <!-- Secondary used for Action/Toggle as requested -->
                <button id="btn-shift-toggle" onclick="toggleShift()" class="btn btn-action"
                    style="height: 64px; font-size: 1.1rem; width: 100%;">
                    ONLINE OL
                </button>
            </div>

            <!-- Stats Grid -->
            <div class="flex gap-4 mb-6">
                <div class="card flex-1 p-4">
                    <div class="text-xs font-bold text-muted uppercase mb-1">BugÃ¼n</div>
                    <div class="text-xl font-bold">â‚º850.00</div>
                </div>
                <div class="card flex-1 p-4">
                    <div class="text-xs font-bold text-muted uppercase mb-1">GÃ¶rev</div>
                    <div class="text-xl font-bold">5 / 12</div>
                </div>
            </div>

            <!-- Active Task Logic Wrapper -->
            <div id="active-task-wrapper" class="hidden">
                <h3 class="mb-4">Aktif GÃ¶rev</h3>
                <div class="card border-l-4" style="border-left-color: var(--secondary);">
                    <div class="flex justify-between items-start mb-4">
                        <span class="badge badge-warning">BEKLÄ°YOR</span>
                        <span class="font-mono text-sm">#TR-5521</span>
                    </div>
                    <div class="mb-4">
                        <div class="text-lg font-bold mb-1">Eczane Lojistik A.Å.</div>
                        <div class="text-sm text-muted">2 Paket â€¢ Hassas</div>
                    </div>
                    <div class="flex justify-between items-center text-sm text-muted mb-4">
                        <span>ğŸ“ 2.4 km</span>
                        <span>ğŸ’° â‚º45.00</span>
                    </div>
                    <button onclick="goToTaskDetail()" class="btn btn-primary">DetaylarÄ± GÃ¶r</button>
                </div>
            </div>

            <!-- Empty State -->
            <div id="home-empty-state" class="text-center text-muted p-6">
                <div style="font-size: 32px; margin-bottom: 16px; opacity: 0.5;">ğŸ“¡</div>
                <p class="text-sm">Yeni gÃ¶revler aranÄ±yor...</p>
                <button onclick="simulateIncomingTask()" class="btn btn-secondary mt-4 text-sm" style="height: 48px;">
                    ğŸ›  SimÃ¼le Et: GÃ¶rev Ata
                </button>
            </div>
        </div>

        <!-- TAB: TASKS -->
        <div id="tab-tasks" class="view-content hidden">
            <h1 class="mb-4 pt-2">GÃ¶rev GeÃ§miÅŸi</h1>
            <div class="flex gap-2 mb-4">
                <button class="btn btn-secondary flex-1" style="height: 40px; font-size: 0.9rem;">Tamamlanan</button>
                <button class="btn btn-ghost flex-1" style="height: 40px; font-size: 0.9rem;">Ä°ptaller</button>
            </div>

            <div class="card">
                <div class="flex justify-between mb-2">
                    <span class="font-bold">#TR-5520</span>
                    <span class="text-success font-bold">â‚º32.00</span>
                </div>
                <div class="text-sm text-muted mb-2">BugÃ¼n, 11:30</div>
                <div class="badge badge-success">TESLÄ°M EDÄ°LDÄ°</div>
            </div>
            <div class="card">
                <div class="flex justify-between mb-2">
                    <span class="font-bold">#TR-5519</span>
                    <span class="text-success font-bold">â‚º28.50</span>
                </div>
                <div class="text-sm text-muted mb-2">BugÃ¼n, 10:15</div>
                <div class="badge badge-success">TESLÄ°M EDÄ°LDÄ°</div>
            </div>
        </div>

        <!-- TAB: PROFILE/SETTINGS -->
        <div id="tab-settings" class="view-content hidden">
            <h1 class="mb-6 pt-2">Profil</h1>

            <div class="flex items-center gap-4 mb-8">
                <div class="avatar-lg">ğŸ‘¨â€âœˆï¸</div>
                <div>
                    <h2 class="mb-1">Ahmet Demir</h2>
                    <div class="text-sm text-muted">Moto Kurye â€¢ ID: 4421</div>
                    <div class="flex items-center gap-1 mt-1 text-xs text-success font-bold">
                        <span>â—</span> OnaylÄ± Hesap
                    </div>
                </div>
            </div>

            <div class="card p-0 overflow-hidden">
                <div class="p-4 border-b border-border-color flex justify-between items-center" onclick="toggleTheme()">
                    <span>KaranlÄ±k Mod</span>
                    <span id="label-theme">KapalÄ±</span>
                </div>
                <div class="p-4 border-b border-border-color flex justify-between items-center">
                    <span>Bildirimler</span>
                    <span class="text-muted">AÃ§Ä±k</span>
                </div>
                <div class="p-4 border-b border-border-color flex justify-between items-center">
                    <span>Dil / Language</span>
                    <span class="text-muted">TÃ¼rkÃ§e</span>
                </div>
                <div class="p-4 flex justify-between items-center">
                    <span>Destek / YardÄ±m</span>
                    <span>â€º</span>
                </div>
            </div>

            <button onclick="logout()" class="btn btn-danger mt-6">Ã‡Ä±kÄ±ÅŸ Yap</button>
            <div class="text-center mt-6 text-xs text-muted">Version 3.0.1 (B2B Release)</div>
        </div>

        <!-- === TASK DETAIL FLOW (Full Screen) === -->
        <div id="screen-task-flow" class="view hidden flex-col h-full bg-app overflow-hidden">
            <!-- Top Nav -->
            <div class="p-4 bg-card border-b border-border-color flex justify-between items-center">
                <button onclick="switchTab('tab-home')" class="btn-ghost" style="width: auto;">âœ• Kapat</button>
                <div class="font-mono font-bold">#TR-5521</div>
            </div>

            <div class="flex-1 overflow-y-auto p-4">

                <!-- Step Indicator -->
                <div class="flex justify-between items-center mb-6 px-4">
                    <div id="flow-step-1" class="w-3 h-3 rounded-full bg-secondary"></div>
                    <div class="h-1 flex-1 bg-border-color mx-2"></div>
                    <div id="flow-step-2" class="w-3 h-3 rounded-full bg-border-color"></div>
                    <div class="h-1 flex-1 bg-border-color mx-2"></div>
                    <div id="flow-step-3" class="w-3 h-3 rounded-full bg-border-color"></div>
                </div>

                <!-- Content Container -->
                <div class="card p-6 mb-6">
                    <span id="task-status-badge" class="badge badge-warning mb-4">ALIM BEKLENÄ°YOR</span>
                    <h1 id="task-title" class="mb-2">AlÄ±ÅŸ NoktasÄ±na Git</h1>
                    <p id="task-desc" class="text-muted mb-6">Paketi alÄ±m noktasÄ±ndan teslim alÄ±n.</p>

                    <div class="bg-app p-4 rounded mb-4">
                        <div class="text-xs font-bold text-muted uppercase mb-1">Adres</div>
                        <div id="task-address" class="font-medium">Merkez Mah. Sanayi Cad. No:12/A, Ä°st.</div>
                    </div>

                    <div class="flex gap-4 mb-4">
                        <button class="btn btn-secondary flex-1">ğŸ“ Ara</button>
                        <button class="btn btn-secondary flex-1">ğŸ—º Yol Tarifi</button>
                    </div>
                </div>

                <div class="card p-4">
                    <div class="text-xs font-bold text-muted uppercase mb-2">Paket DetayÄ±</div>
                    <div class="flex justify-between items-center">
                        <span>Koli (x2)</span>
                        <span class="font-bold">â‚º45.00</span>
                    </div>
                </div>

            </div>

            <!-- Sticky Bottom Action -->
            <div class="p-4 bg-card border-t border-border-color">
                <button id="btn-flow-action" onclick="advanceTaskFlow()" class="btn btn-action">
                    ALIM NOKTASINA ULAÅTIM
                </button>
                <button onclick="cancelTask()" class="btn-ghost mt-2 w-full text-danger text-sm">GÃ¶revi Ä°ptal
                    Et</button>
            </div>
        </div>


        <!-- === BOTTOM NAV === -->
        <nav id="bottom-nav" class="bottom-nav hidden">
            <div class="nav-item active" onclick="switchTab('tab-home')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                </svg>
                <span>Ana Sayfa</span>
            </div>
            <div class="nav-item" onclick="switchTab('tab-tasks')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M9 11l3 3L22 4"></path>
                    <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                </svg>
                <span>GeÃ§miÅŸ</span>
            </div>
            <div class="nav-item" onclick="switchTab('tab-settings')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
                <span>Profil</span>
            </div>
        </nav>
    </div>

    <script src="app.js"></script>
</body>

</html>