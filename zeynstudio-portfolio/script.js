/* --- Data: Translations --- */
const translations = {
    tr: {
        heroSubtitle: "UI/UX TasarÄ±mcÄ± Â· EndÃ¼striyel TasarÄ±m Â· Ä°stanbul",
        heroSubtitle: "UI/UX TasarÄ±mcÄ± Â· EndÃ¼striyel TasarÄ±m Â· Ä°stanbul",
        navProjects: "Projeler",
        navAbout: "HakkÄ±mda",
        navContact: "Ä°letiÅŸim",
        botRole: "PortfÃ¶y Rehberi",
        traitCreative: "YaratÄ±cÄ± Zeka",
        traitAesthetic: "Estetik Vizyon",
        traitPhoto: "Analog Tutkunu",
        traitTravel: "Gezgin Ruhu",  // Shortened from Seyahat AÅŸÄ±ÄŸÄ±
        traitInfo: "Bilgi", // Placeholder removal if needed
        traitSolver: "Problem Ã‡Ã¶zÃ¼cÃ¼",
        traitFocus: "Derin Odak",
        featuredTitle: "Projelerim",
        project1Desc: "KiÅŸiye Ã¶zel dijital illÃ¼strasyonlar ve portre Ã§izimleri.",
        project2Desc: "Modern ve temiz arayÃ¼zlÃ¼ kiÅŸisel finans takip uygulamasÄ±.",
        project3Desc: "Minimalist ve zarif dÃ¼ÄŸÃ¼n davetiye setleri.",
        project4Desc: "SÃ¼rdÃ¼rÃ¼lebilir Ã¼rÃ¼nler iÃ§in e-ticaret web sitesi tasarÄ±mÄ±.",
        project5Desc: "EÄŸitici ve eÄŸlenceli Ã§ocuklar iÃ§in aktivite kitapÃ§Ä±klarÄ±.",
        project6Desc: "AkÄ±llÄ± ev sistemleri iÃ§in merkezi kontrol paneli arayÃ¼zÃ¼.",
        skillFigma: "Figma",
        skillPhotoshop: "Photoshop",
        skillIllustrator: "Illustrator",
        skillAfterEffects: "After Effects",
        skillBlender: "Blender",
        skillRhino: "Rhino",
        skillMax: "3ds Max",
        tagIllustration: "Ä°llÃ¼strasyon",
        tagEtsy: "Etsy ÃœrÃ¼nÃ¼",
        tagUI: "UI TasarÄ±m",
        tagPrint: "BaskÄ± TasarÄ±mÄ±",
        tagUX: "UX TasarÄ±m",
        tagUX: "UX TasarÄ±m",
        btnView: "DetaylarÄ± GÃ¶r",
        btnViewWork: "Projelerimi GÃ¶r", // New
        caseStudiesTitle: "SeÃ§ilmiÅŸ Projeler",
        titleCase1: "NeoBank Mobil Deneyimi",
        case1Desc: "KullanÄ±cÄ± deneyimini merkeze alan, baÅŸtan sona yenilenmiÅŸ mobil bankacÄ±lÄ±k uygulamasÄ±. KarmaÅŸÄ±k finansal verileri basitleÅŸtirdik.",
        case1Point1: "KullanÄ±cÄ± araÅŸtÄ±rmasÄ± ve persona oluÅŸturma",
        case1Point2: "Design System inÅŸasÄ± (Figma)",
        case1Point3: "%40 daha hÄ±zlÄ± iÅŸlem sÃ¼resi",
        titleCase2: "Artisan Marketplace",
        case2Desc: "Yerel sanatÃ§Ä±larÄ±n Ã¼rÃ¼nlerini satabileceÄŸi global bir pazar yeri platformu tasarÄ±mÄ±.",
        case2Point1: "Rakip analizi ve pazar araÅŸtÄ±rmasÄ±",
        case2Point2: "Mobil Ã¶ncelikli responsive tasarÄ±m",
        case2Point3: "EriÅŸilebilirlik (A11y) uyumu",
        aboutTitle: "Zeynep HakkÄ±nda",
        aboutText: "EndÃ¼striyel tasarÄ±m kÃ¶kenli bir UI/UX tasarÄ±mcÄ±sÄ±yÄ±m. Fizikselden dijitale geÃ§iÅŸ sÃ¼recimde, kullanÄ±cÄ± deneyimini her zaman odaÄŸÄ±mda tuttum. Ä°stanbul'da yaÅŸÄ±yorum; analog fotoÄŸrafÃ§Ä±lÄ±k, seyahat etmek ve yeni dijital araÃ§lar (AI) keÅŸfetmek en bÃ¼yÃ¼k tutkularÄ±m. Åžu anda ZeynStudio altÄ±nda hem freelance tasarÄ±m projeleri Ã¼retiyor hem de Etsy maÄŸazamda dijital Ã¼rÃ¼nler tasarlÄ±yorum.",
        btnDownloadCV: "CV'yi Ä°ndir",
        btnWorkTogether: "Birlikte Ã‡alÄ±ÅŸalÄ±m",
        botTitle: "ZeynStudio AsistanÄ±",
        botWelcome: "Merhaba! Ben Zeynep'in sanal asistanÄ±yÄ±m. NasÄ±l yardÄ±mcÄ± olabilirim?",
        chatPlaceholder: "MesajÄ±nÄ± yaz...",
        botReply: "Bu bir demo asistandÄ±r. GerÃ§ek projede bir API'ye baÄŸlanabilir.",
        // METBIC Project
        projectMetbicCat: "EndÃ¼striyel TasarÄ±m Â· ÃœrÃ¼n",
        projectMetbicTitle: "METBIC",
        projectMetbicSubtitle: "Kompakt bisiklet Ã§oklu tamir aracÄ±.",
        projectMetbicBar1Label: "KompaktlÄ±k",
        projectMetbicBar2Label: "Fonksiyonellik",
        projectMetbicBar3Label: "KullanÄ±cÄ± OdaklÄ±lÄ±k",
        projectMetbicHighlight1: "Cebine sÄ±ÄŸan tasarÄ±m (6x9 cm)",
        projectMetbicHighlight2: "6 tornavida ucu, jant dÃ¼zeltme",
        projectMetbicHighlight3: "3 farklÄ± renk seÃ§eneÄŸi",
        projectMetbicCtaDetails: "Proje DetaylarÄ±nÄ± GÃ¶r",
        projectMetbicMeta: "Lisans bitirme projesi Â· 2021"
    },
    en: {
        heroSubtitle: "UI/UX Designer Â· Industrial Design Â· Istanbul",
        heroSubtitle: "UI/UX Designer Â· Industrial Design Â· Istanbul",
        navProjects: "Projects",
        navAbout: "About",
        navContact: "Contact",
        botRole: "Portfolio Guide",
        // Game Level Translations (EN)
        menuMain: "MAIN MENU",
        lvl1Title: "Press Start",
        lvl1Text: "â€œMy imagination started with Paint. Colors spilled, lines were crooked, but my curiosity was full.â€",
        lvl5Title: "Curiosity Mode",
        lvl5Text: "â€œThe era of taking everything apart... Lego engineering, comic book curiosity, and the first sparks of design.â€",
        lvl12Title: "Industrial Quest",
        lvl12Text: "â€œStarted drawing real products. Design was no longer a game, but a journey.â€",
        lvl18Title: "UX Skill Tree",
        lvl18Text: "â€œTransition from physical to digital... User-focused thinking unlocked at this Level.â€",
        lvl30Title: "Final Form",
        lvl30Text: "â€œDesigning with the same excitement today. Every project is a new chapter, every solution a new level. The game continues.â€",
        badgeSolver: "Problem Solver",
        badgeExp: "Exp. Designer",
        badgeNew: "New Quest Ready",

        traitCreative: "Creative Mind", // Shortened
        traitAesthetic: "Aesthetic Eye", // Shortened
        traitPhoto: "Analog Lover",
        traitTravel: "World Traveler", // Shortened from Travel Storyteller
        traitInfo: "Info",
        traitSolver: "Problem Solver",
        traitFocus: "Deep Focus",
        featuredTitle: "My Projects",
        project1Desc: "Custom digital illustrations and portrait drawings.",
        project2Desc: "Personal finance app with modern and clean UI.",
        project3Desc: "Minimalist and elegant wedding invitation suites.",
        project4Desc: "E-commerce website design for sustainable products.",
        project5Desc: "Educational and fun activity packs for kids.",
        project6Desc: "Central control panel board for smart home systems.",
        skillFigma: "Figma",
        skillPhotoshop: "Photoshop",
        skillIllustrator: "Illustrator",
        skillBlender: "Blender",
        skillRhino: "Rhino",
        skillMax: "3ds Max",
        tagIllustration: "Illustration",
        tagEtsy: "Etsy Product",
        tagUI: "UI Design",
        tagPrint: "Print Design",
        tagUX: "UX Design",
        tagUX: "UX Design",
        btnView: "View Details",
        btnViewWork: "View Projects", // New
        caseStudiesTitle: "Selected Case Studies",
        titleCase1: "NeoBank Mobile Experience",
        case1Desc: "A completely revamped mobile banking app focusing on UX. Simplified complex financial data.",
        case1Point1: "User research and persona creation",
        case1Point2: "Building Design System (Figma)",
        case1Point3: "40% faster transaction time",
        titleCase2: "Artisan Marketplace",
        case2Desc: "Global marketplace platform design for local artists to sell their products.",
        case2Point1: "Competitor analysis and market research",
        case2Point2: "Mobile-first responsive design",
        case2Point3: "Accessibility (A11y) compliance",
        aboutTitle: "About Zeynep",
        aboutText: "I am a UI/UX designer with an Industrial Design background. In my transition from physical to digital, I always kept user experience in focus. Living in Istanbul; my biggest passions are film photography, traveling, and exploring new digital tools (AI). Currently, I produce freelance design projects under ZeynStudio and design digital products for my Etsy shop.",
        btnDownloadCV: "Download CV",
        btnWorkTogether: "Let's Work Together",
        botTitle: "ZeynStudio Assistant",
        botWelcome: "Hello! I am Zeynep's virtual assistant. How can I help you?",
        chatPlaceholder: "Type your message...",
        botReply: "This is a demo assistant. In a real project it could be connected to an API.",
        // METBIC Project
        projectMetbicCat: "Industrial Design Â· Product",
        projectMetbicTitle: "METBIC",
        projectMetbicSubtitle: "Compact bike multi-repair tool.",
        projectMetbicBar1Label: "Compactness",
        projectMetbicBar2Label: "Functionality",
        projectMetbicBar3Label: "User Focus",
        projectMetbicHighlight1: "Pocket-sized design (6x9 cm)",
        projectMetbicHighlight2: "6 screwdriver bits, spoke key",
        projectMetbicHighlight3: "3 color options",
        projectMetbicCtaDetails: "View Project Details",
        projectMetbicMeta: "Bachelor graduation project Â· 2021"
    },
    es: {
        heroSubtitle: "DiseÃ±adora UI/UX Â· DiseÃ±o Industrial Â· Estambul",
        heroSubtitle: "DiseÃ±adora UI/UX Â· DiseÃ±o Industrial Â· Estambul",
        heroSubtitle: "DiseÃ±adora UI/UX Â· DiseÃ±o Industrial Â· Estambul",
        navProjects: "Proyectos",
        navAbout: "Sobre mÃ­",
        navContact: "Contacto",
        botRole: "GuÃ­a del Portafolio",
        // Game Level Translations (ES)
        menuMain: "MENÃš PRINCIPAL",
        lvl1Title: "Press Start",
        lvl1Text: "â€œMi imaginaciÃ³n comenzÃ³ con Paint. Los colores se desbordaban, las lÃ­neas estaban torcidas, pero mi curiosidad estaba completa.â€",
        lvl5Title: "Curiosity Mode",
        lvl5Text: "â€œLa era de desmontar todo... IngenierÃ­a lego, curiosidad por los cÃ³mics y las primeras chispas de diseÃ±o.â€",
        lvl12Title: "Industrial Quest",
        lvl12Text: "â€œComencÃ© a dibujar productos reales. El diseÃ±o ya no era un juego, sino un viaje.â€",
        lvl18Title: "UX Skill Tree",
        lvl18Text: "â€œTransiciÃ³n de lo fÃ­sico a lo digital... El pensamiento centrado en el usuario se desbloqueÃ³ en este nivel.â€",
        lvl30Title: "Final Form",
        lvl30Text: "â€œDiseÃ±ando con la misma emociÃ³n hoy. Cada proyecto es un nuevo capÃ­tulo, cada soluciÃ³n un nuevo nivel. El juego continÃºa.â€",
        badgeSolver: "Solucionadora",
        badgeExp: "DiseÃ±adora Exp.",
        badgeNew: "Nueva MisiÃ³n Lista",

        traitCreative: "Mente Creativa", // Shortened
        traitAesthetic: "VisiÃ³n EstÃ©tica",
        traitPhoto: "Amante AnÃ¡logo",
        traitTravel: "Viajera",
        traitInfo: "Info",
        traitSolver: "Solucionadora",
        traitFocus: "Enfoque Profundo",
        featuredTitle: "Mis Proyectos",
        project1Desc: "Ilustraciones digitales personalizadas y retratos.",
        project2Desc: "App de finanzas personales con UI moderna y limpia.",
        project3Desc: "Sets de invitaciones de boda minimalistas y elegantes.",
        project4Desc: "DiseÃ±o web e-commerce para productos sostenibles.",
        project5Desc: "Paquetes de actividades educativos y divertidos para niÃ±os.",
        project6Desc: "Panel de control central para sistemas de casa inteligente.",
        skillFigma: "Figma",
        skillPhotoshop: "Photoshop",
        skillIllustrator: "Illustrator",
        skillBlender: "Blender",
        skillRhino: "Rhino",
        skillMax: "3ds Max",
        tagIllustration: "IlustraciÃ³n",
        tagEtsy: "Producto Etsy",
        tagUI: "DiseÃ±o UI",
        tagPrint: "DiseÃ±o Impreso",
        tagUX: "DiseÃ±o UX",
        tagUX: "DiseÃ±o UX",
        btnView: "Ver Detalles",
        btnViewWork: "Ver Proyectos", // New
        caseStudiesTitle: "Proyectos Destacados",
        titleCase1: "Experiencia MÃ³vil NeoBank",
        case1Desc: "Una app bancaria completamente renovada centrada en UX. Datos financieros simplificados.",
        case1Point1: "InvestigaciÃ³n de usuarios y creaciÃ³n de personas",
        case1Point2: "ConstrucciÃ³n de Sistema de DiseÃ±o (Figma)",
        case1Point3: "40% mÃ¡s rÃ¡pido en transacciones",
        titleCase2: "Mercado Artesanal",
        case2Desc: "DiseÃ±o de plataforma global para que artistas locales vendan sus productos.",
        case2Point1: "AnÃ¡lisis de competencia e investigaciÃ³n de mercado",
        case2Point2: "DiseÃ±o responsivo mobile-first",
        case2Point3: "Cumplimiento de accesibilidad (A11y)",
        aboutTitle: "Sobre Zeynep",
        aboutText: "Soy diseÃ±adora UI/UX con formaciÃ³n en DiseÃ±o Industrial. En mi transiciÃ³n de lo fÃ­sico a lo digital, siempre mantuve el foco en la experiencia de usuario. Vivo en Estambul; mis grandes pasiones son la fotografÃ­a analÃ³gica, viajar y explorar nuevas herramientas digitales (IA). Actualmente realizo proyectos freelance bajo ZeynStudio y diseÃ±o productos digitales para mi tienda Etsy.",
        btnDownloadCV: "Descargar CV",
        btnWorkTogether: "Trabajemos Juntos",
        botTitle: "Asistente de ZeynStudio",
        botWelcome: "Â¡Hola! Soy el asistente virtual de Zeynep. Â¿En quÃ© puedo ayudarte?",
        chatPlaceholder: "Escribe tu mensaje...",
        botReply: "Este es un asistente de demostraciÃ³n. En un proyecto real podrÃ­a conectarse a una API.",
        // METBIC Project
        projectMetbicCat: "DiseÃ±o Industrial Â· Producto",
        projectMetbicTitle: "METBIC",
        projectMetbicSubtitle: "Herramienta de reparaciÃ³n compacta.",
        projectMetbicBar1Label: "Compacidad",
        projectMetbicBar2Label: "Funcionalidad",
        projectMetbicBar3Label: "Enfoque Usuario",
        projectMetbicHighlight1: "DiseÃ±o de bolsillo (6x9 cm)",
        projectMetbicHighlight2: "6 puntas, llave de radios",
        projectMetbicHighlight3: "3 opciones de color",
        projectMetbicCtaDetails: "Ver Detalles",
        projectMetbicMeta: "Proyecto de graduaciÃ³n Â· 2021"
    }
};

/* --- State & Initialization --- */
let currentLang = localStorage.getItem('lang') || 'tr';
let currentTheme = localStorage.getItem('theme') || 'light-mode';

document.addEventListener('DOMContentLoaded', () => {
    // 1. Initialize Theme
    document.body.className = currentTheme;
    updateThemeIcon();

    // 2. Initialize Language
    updateLanguage(currentLang);

    // 3. Event Listeners
    setupEventListeners();

    // 4. Initialize ZeynBot
    initChatbot();
});

function setupEventListeners() {
    // Theme Toggle
    const themeBtn = document.getElementById('theme-toggle');
    themeBtn.addEventListener('click', toggleTheme);

    // Language Buttons
    const langBtns = document.querySelectorAll('.lang-btn');
    langBtns.forEach(btn => {
        btn.addEventListener('click', (e) => {
            const lang = e.target.getAttribute('data-lang');
            setLanguage(lang);
        });
    });

    // Hero Rotation
    const rotateLeft = document.getElementById('rotate-left');
    const rotateRight = document.getElementById('rotate-right');
    if (rotateLeft && rotateRight) {
        rotateLeft.addEventListener('click', () => rotateHero(-90));
        rotateRight.addEventListener('click', () => rotateHero(90));
    }
}

/* --- Theme Logic --- */
function toggleTheme() {
    if (currentTheme === 'light-mode') {
        currentTheme = 'dark-mode';
    } else {
        currentTheme = 'light-mode';
    }
    document.body.className = currentTheme;
    localStorage.setItem('theme', currentTheme);
    updateThemeIcon();
}

function updateThemeIcon() {
    const iconSpan = document.querySelector('#theme-toggle .icon');
    if (currentTheme === 'light-mode') {
        iconSpan.textContent = 'â˜€'; // Sun
    } else {
        iconSpan.textContent = 'â˜¾'; // Moon
    }
}

/* --- Language Logic --- */
function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('lang', lang);
    updateLanguage(lang);
}

function updateLanguage(lang) {
    // 1. Update text content for plain elements
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) {
            el.textContent = translations[lang][key];
        }
    });

    // 2. Update placeholders
    const placeholders = document.querySelectorAll('[data-i18n-placeholder]');
    placeholders.forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        if (translations[lang][key]) {
            el.placeholder = translations[lang][key];
        }
    });

    // 3. Update active button state
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-lang') === lang) {
            btn.classList.add('active');
        }
    });

    // 4. Update Chatbot UI if initialized
    if (typeof renderChatPills === 'function') {
        renderChatPills(lang);
    }
}

/* --- ZeynBot Chatbot Logic --- */
const chatbotData = {
    tr: {
        welcome: "Merhaba! Ben ZeynBot! NasÄ±l yardÄ±mcÄ± olabilirim? AÅŸaÄŸÄ±daki konulardan birini seÃ§ebilirsin. ðŸ‘‡",
        // Game Level Translations
        menuMain: "ANA MENÃœ",
        lvl1Title: "Press Start",
        lvl1Text: "â€œHayal gÃ¼cÃ¼m Paint ile baÅŸladÄ±. Renkler taÅŸardÄ±, Ã§izgiler yamuktu ama merakÄ±m tamdÄ±.â€",
        lvl5Title: "Curiosity Mode",
        lvl5Text: "â€œHer ÅŸeyi sÃ¶kÃ¼p taktÄ±ÄŸÄ±m dÃ¶nem... Lego mÃ¼hendisliÄŸi, karikatÃ¼r merakÄ± ve ilk tasarÄ±m kÄ±vÄ±lcÄ±mlarÄ±.â€",
        lvl12Title: "Industrial Quest",
        lvl12Text: "â€œGerÃ§ek Ã¼rÃ¼nler Ã§izmeye baÅŸladÄ±m. TasarÄ±m artÄ±k bir oyun deÄŸil, bir yolculuktu.â€",
        lvl18Title: "UX Skill Tree",
        lvl18Text: "â€œFiziksel Ã¼rÃ¼nlerden dijitale geÃ§iÅŸâ€¦ KullanÄ±cÄ± odaklÄ± dÃ¼ÅŸÃ¼nme tam bu Levelâ€™da aÃ§Ä±ldÄ±.â€",
        lvl30Title: "Final Form",
        lvl30Text: "â€œBugÃ¼n hÃ¢lÃ¢ aynÄ± heyecanla tasarlÄ±yorum. Her proje yeni bir bÃ¶lÃ¼m, her Ã§Ã¶zÃ¼m yeni bir seviye. Oyun devam ediyor.â€",
        badgeSolver: "Problem Ã‡Ã¶zÃ¼cÃ¼",
        badgeExp: "Deneyim TasarÄ±mcÄ±sÄ±",
        badgeNew: "Yeni Macera HazÄ±r",

        questions: [
            { id: "who", text: "Sen kimsin?" },
            { id: "work", text: "Ne tÃ¼r iÅŸler yapÄ±yorsun?" },
            { id: "why", text: "Neden seninle Ã§alÄ±ÅŸmalÄ±yÄ±m?" },
            { id: "programs", text: "Hangi programlarÄ± biliyorsun?" },
            { id: "projects", text: "Projelerini nereden inceleyebilirim?" }
        ],
        answers: {
            who: "Ben ZeynBot! Zeynep Erdenâ€™in portfÃ¶y rehberiyim. UI/UX tasarÄ±m, endÃ¼striyel tasarÄ±m ve gÃ¶rsel hikÃ¢ye anlatÄ±mÄ± alanlarÄ±nda neler yaptÄ±ÄŸÄ±nÄ± sana gÃ¶stermek iÃ§in buradayÄ±m.",
            work: "Zeynep; dijital Ã¼rÃ¼n tasarÄ±mÄ± (uygulama & web arayÃ¼zleri), kullanÄ±cÄ± deneyimi akÄ±ÅŸlarÄ±, endÃ¼striyel Ã¼rÃ¼n tasarÄ±mÄ± ve illÃ¼strasyonlu konsept projeler Ã¼retiyor. Hem araÅŸtÄ±rma hem gÃ¶rsel tasarÄ±m kÄ±smÄ±nda gÃ¼Ã§lÃ¼.",
            why: "Ã‡Ã¼nkÃ¼ Zeynep hem analitik hem yaratÄ±cÄ± Ã§alÄ±ÅŸÄ±yor: kullanÄ±cÄ± araÅŸtÄ±rmasÄ±nÄ± seviyor, sezgisel arayÃ¼zler tasarlÄ±yor, tasarÄ±m kararlarÄ±nÄ± dÃ¼zgÃ¼n sunumlarla anlatabiliyor. Teknik araÃ§larÄ± (Figma, Adobe, 3D) aktif kullanÄ±yor ve detaylara dikkat ediyor.",
            programs: "AÄŸÄ±rlÄ±klÄ± olarak Figma, Photoshop, Illustrator, After Effects, Blender, Rhino ve 3ds Max ile Ã§alÄ±ÅŸÄ±yor. Yeni araÃ§larÄ± da hÄ±zlÄ± Ã¶ÄŸrenme konusunda iddialÄ±.",
            projects: "Ãœst menÃ¼deki â€˜Projelerâ€™ kÄ±smÄ±ndan web ve uygulama tasarÄ±mlarÄ±nÄ±, endÃ¼striyel tasarÄ±m projelerini ve illÃ¼strasyonlarÄ±nÄ± gÃ¶rebilirsin. AyrÄ±ca Behance veya LinkedIn linkleri eklenmiÅŸse oradan da takip edebilirsin."
        }
    },
    en: {
        welcome: "Hello! I am ZeynBot! How can I help you? You can choose one of the topics below. ðŸ‘‡",
        questions: [
            { id: "who", text: "Who are you?" },
            { id: "work", text: "What do you do?" },
            { id: "why", text: "Why work with you?" },
            { id: "programs", text: "What tools do you use?" },
            { id: "projects", text: "Where can I see your projects?" }
        ],
        answers: {
            who: "I'm ZeynBot! Your guide to Zeynep's portfolio. I'm here to show you her work in UI/UX design, industrial design, and visual storytelling.",
            work: "Zeynep creates digital products (app & web UIs), user experience flows, industrial designs, and illustrated concepts. She is strong in both research and visual design.",
            why: "Because she works both analytically and creatively: loves user research, designs intuitive interfaces, and communicates design decisions clearly. She is proficient in technical tools like Figma, Adobe, and 3D software.",
            programs: "Mainly works with Figma, Photoshop, Illustrator, After Effects, Blender, Rhino, and 3ds Max. She is also quick to learn new tools.",
            projects: "You can check the 'Projects' section in the top menu for web/app designs and industrial projects. You can also follow her on Behance or LinkedIn."
        }
    },
    es: {
        welcome: "Â¡Hola! Â¡Soy ZeynBot! Â¿CÃ³mo puedo ayudarte? Puedes elegir uno de los temas a continuaciÃ³n. ðŸ‘‡",
        questions: [
            { id: "who", text: "Â¿QuiÃ©n eres?" },
            { id: "work", text: "Â¿QuÃ© haces?" },
            { id: "why", text: "Â¿Por quÃ© trabajar contigo?" },
            { id: "programs", text: "Â¿QuÃ© herramientas usas?" },
            { id: "projects", text: "Â¿DÃ³nde puedo ver tus proyectos?" }
        ],
        answers: {
            who: "Â¡Soy ZeynBot! Tu guÃ­a del portafolio de Zeynep. Estoy aquÃ­ para mostrarte su trabajo en diseÃ±o UI/UX, diseÃ±o industrial y narrativa visual.",
            work: "Zeynep crea productos digitales (interfaces web y app), flujos de experiencia de usuario, diseÃ±os industriales e ilustraciones. Es fuerte tanto en investigaciÃ³n como en diseÃ±o visual.",
            why: "Porque trabaja de forma analÃ­tica y creativa: ama la investigaciÃ³n de usuarios, diseÃ±a interfaces intuitivas y comunica decisiones de diseÃ±o claramente. Domina herramientas tÃ©cnicas como Figma, Adobe y software 3D.",
            programs: "Principalmente usa Figma, Photoshop, Illustrator, After Effects, Blender, Rhino y 3ds Max. TambiÃ©n aprende rÃ¡pido nuevas herramientas.",
            projects: "Puedes ver la secciÃ³n 'Proyectos' en el menÃº superior para diseÃ±os web/app. TambiÃ©n puedes seguirla en Behance o LinkedIn."
        }
    }
};

let renderChatPills = null; // Global reference for update

function initChatbot() {
    const chatToggle = document.getElementById('chatbot-toggle');
    const chatWindow = document.getElementById('chatbot-window');
    const closeBtn = document.getElementById('chatbot-close');
    const messagesArea = document.getElementById('chatbot-messages');
    const actionsArea = document.getElementById('chatbot-actions');

    if (!chatToggle || !chatWindow) return;

    function toggleChat() {
        chatWindow.classList.toggle('hidden');
    }

    chatToggle.addEventListener('click', toggleChat);
    if (closeBtn) closeBtn.addEventListener('click', toggleChat);

    // Initial Render Function
    renderChatPills = function (lang) {
        if (!chatbotData[lang]) lang = 'tr';
        const data = chatbotData[lang];

        // Update pills
        actionsArea.innerHTML = '';
        data.questions.forEach(q => {
            const btn = document.createElement('button');
            btn.className = 'action-pill';
            btn.innerText = q.text;
            btn.addEventListener('click', () => {
                appendMessage('user', q.text);
                setTimeout(() => {
                    const answer = data.answers[q.id];
                    appendMessage('bot', answer);
                }, 500);
            });
            actionsArea.appendChild(btn);
        });

        // Update Greeting Message
        const greetingBubble = document.getElementById('bot-greeting');
        if (greetingBubble && data.welcome) {
            greetingBubble.innerText = data.welcome;
        }
    };

    // Append Message to Chat
    function appendMessage(sender, text) {
        const msgDiv = document.createElement('div');
        msgDiv.classList.add('message', sender);

        const bubble = document.createElement('div');
        bubble.classList.add('msg-bubble');
        bubble.innerText = text;

        msgDiv.appendChild(bubble);
        messagesArea.appendChild(msgDiv);
        messagesArea.scrollTop = messagesArea.scrollHeight;
    }

    // Initial call
    renderChatPills(currentLang);
}

/* --- Magnetic Nav Effect --- */
function initMagneticNav() {
    const navLinks = document.querySelectorAll('.nav-link');

    navLinks.forEach(link => {
        link.addEventListener('mousemove', (e) => {
            const rect = link.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            // Calculate distance from center
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;

            // Magnetic pull strength (lower = shorter travel)
            // Divide delta by factor. 
            const deltaX = (x - centerX) / 3;
            const deltaY = (y - centerY) / 3;

            link.style.transform = `translate(${deltaX}px, ${deltaY}px) scale(1.1)`;
        });

        link.addEventListener('mouseleave', () => {
            link.style.transform = 'translate(0px, 0px) scale(1)';
        });
    });
}

// Ensure it runs after load
document.addEventListener('DOMContentLoaded', () => {
    initMagneticNav();

    // Plumbob Click Interaction
    const plumbobContainer = document.querySelector('.plumbob-container');
    const plumbobImg = document.querySelector('.plumbob');
    if (plumbobContainer && plumbobImg) {
        plumbobContainer.addEventListener('click', () => {
            plumbobImg.classList.toggle('ruby-state');
        });
    }
});

// End of Script

/* --- Hero Logic --- */
let currentRotation = 0;
function rotateHero(deg) {
    const heroImg = document.getElementById('hero-model');
    if (!heroImg) return;
    currentRotation += deg;
    heroImg.style.transform = `rotateY(${currentRotation}deg)`;
}


